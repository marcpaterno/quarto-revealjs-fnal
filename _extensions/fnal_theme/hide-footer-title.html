<script>
  console.log("hide-footer-title.html script loaded!");

  const hideFooterAndSlideNumber = (isSpecialSlide) => { // Renamed parameter for clarity
    const footer = document.querySelector('.reveal .footer');
    const slideNumber = document.querySelector('.reveal .slide-number');
    const revealElement = document.querySelector('.reveal');

    console.log("titleSidebarImage element: ", document.querySelector('.title-sidebar-image'));

    if (isSpecialSlide) { // Use the new parameter
      console.log("Special slide active - hiding footer and slide number.");
      if (footer) {
        footer.style.setProperty('display', 'none', 'important');
      }
      if (slideNumber) {
        slideNumber.style.setProperty('display', 'none', 'important');
      }
      if (revealElement) {
        revealElement.classList.remove('has-title-sidebar');
        console.log(".reveal element classes after removing: ", revealElement.className);
      }
    } else {
      console.log("Normal slide active - showing footer and slide number.");
      if (footer) {
        footer.style.setProperty('display', 'flex', 'important');
      }
      if (slideNumber) {
        slideNumber.style.setProperty('display', 'block', 'important');
      }
      if (revealElement) {
        revealElement.classList.remove('has-title-sidebar');
        console.log(".reveal element classes after removing: ", revealElement.className);
      }
    }
  };

  Reveal.on( 'slidechanged', event => {
    console.log("Slide changed event fired!");
    const isTitleSlide = event.currentSlide.id === 'title-slide';
    const isSectionBreakSlide = event.currentSlide.classList.contains('section-break');
    hideFooterAndSlideNumber(isTitleSlide || isSectionBreakSlide);
  });

  // Initial check in case the presentation starts on the title slide
  Reveal.on( 'ready', event => {
    console.log("Reveal ready event fired!");
    const isTitleSlide = event.currentSlide.id === 'title-slide';
    const isSectionBreakSlide = event.currentSlide.classList.contains('section-break');
    hideFooterAndSlideNumber(isTitleSlide || isSectionBreakSlide);
  });
</script>